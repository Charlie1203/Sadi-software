<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Sadi</title>
		<link
			rel="shortcut icon"
			href="images/GSM-PRINCIPAL 2.png"
			type="image/x-icon"
		/>
		<link rel="stylesheet" href="index.css" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
			crossorigin="anonymous"
		/>
		<script
			src="https://kit.fontawesome.com/5af3a8c52c.js"
			crossorigin="anonymous"
		></script>
	</head>
	<body>
		<div class="container-fluid">
			<div class="row loginCont align-items-center px-2">
				<div class="col-12 col-lg-4"></div>
				<div class="col-12 col-lg-4 text-center">
					<div class="caja" style="position: relative">
						<a href="http://gruposanmiguel.com.ar/">
							<img src="images/logo SADI-04 1.png" class="img-fluid mt-5" />
							<hr style="border: solid 3px black; margin-top: 2em" />
						</a>
						<h1
							class="font mt-3"
							style="color: white; font-weight: 600; font-size: 3.5rem"
						></h1>
						<h3
							class="font"
							style="color: #414546; font-weight: 600; margin-top: 1em"
						>
							Iniciar sesión
						</h3>
						<p
							class="font mb-4"
							style="
								color: #414546;
								font-weight: 600;
								position: relative;
								bottom: -0.9em;
							"
						>
							Usuario
						</p>

						<input type="text" class="w-75 input px-2" id="email_field" />
						<span
							class="font mt-1"
							style="
								position: absolute;
								font-size: 0.7rem;
								color: rgb(182, 37, 37);
								font-weight: 600;
							"
							id="emailOK"
						></span>
						<p
							class="font mb-4"
							style="
								color: #414546;
								font-weight: 600;
								position: relative;
								bottom: -0.9em;
							"
						>
							Contraseña
						</p>
						<div>
							<input
								type="password"
								class="w-75 input px-2"
								id="password_field"
							/>
							<span class="eye" onclick="showPass()">
								<i
									id="hide1"
									style="display: none"
									class="fa-solid fa-eye fa-lg"
								></i>
								<i
									id="hide2"
									style="display: block"
									class="fa-sharp fa-solid fa-eye-slash fa-lg"
								></i>
							</span>
						</div>

						<div>
							<button class="loginBtn w-75 mt-4" onclick="login()">
								Ingresar
							</button>
						</div>

						<div class="mt-4">
							<p
								id="loginValidator"
								class="font"
								style="font-weight: 600; color: #414546; font-size: 0.95rem"
							></p>
						</div>

						<div class="pb-5 pt-2">
							<a onclick="openModal()" class="fpass">Olvidé mi contraseña</a>
						</div>
					</div>

					<!-- MODAL -->

					<div class="resModal" id="pass_modal">
						<div class="modalBox" style="position: relative">
							<span
								style="cursor: pointer; position: absolute; right: 2em"
								class="mx-2"
								onclick="closeModal()"
							>
								<i class="fa-solid fa-x fa-xl"></i>
							</span>
							<h3
								class="font my-5"
								style="
									color: white;
									font-weight: 600;
									text-shadow: 0.8px 0.8px 0.8px black;
								"
							>
								Restablecer contraseña
							</h3>
							<input
								id="reset_input"
								class="mt-4 my-2 px-2 py-2 resetPass"
								type="email"
								placeholder="ingresa tu correo electrónico"
							/>
							<span
								class="font mt-1"
								style="
									position: absolute;
									font-size: 0.7rem;
									color: rgb(182, 37, 37);
									font-weight: 600;
								"
								id="emailOK2"
							></span>
							<div class="mt-4 resetPass pb-3">
								<button
									class="loginBtn"
									style="width: 100%"
									onclick="resetModal()"
								>
									Enviar
								</button>
							</div>
							<!-- Sucess Error Message -->
							<div
								class="mt-3 resetPass py-3"
								style="display: none; border-radius: 5px"
								id="infomssg"
							>
								<span
									id="boxmssg"
									style="color: white; height: 2em; font-weight: 600"
									class="font"
								>
								</span>
								<span
									id="instrucciones"
									style="color: white; display: none; font-weight: 600"
									class="font"
								>
								</span>
							</div>
						</div>
					</div>
				</div>
				<div class="col-12 col-lg-4"></div>
			</div>
		</div>

		<script>
			//Función para mostrar contraseña.
			const showPass = () => {
				var x = document.getElementById("password_field");
				var y = document.getElementById("hide1");
				var z = document.getElementById("hide2");

				if (x.type === "password") {
					x.type = "text";
					y.style.display = "block";
					z.style.display = "none";
				} else {
					x.type = "password";
					y.style.display = "none";
					z.style.display = "block";
				}
			};

			//Funcion para abrir y cerrar modal
			const openModal = () => {
				document.getElementById("pass_modal").style.display = "block";
			};

			const closeModal = () => {
				document.getElementById("pass_modal").style.display = "none";
				document.getElementById("reset_input").value = "";
			};

			//Envia mail al correo electronico
			const resetModal = () => {
				openModal();
				let email = document.getElementById("reset_input").value;

				if (email) {
					resetPassword(email);
				}
			};
		</script>

		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
			integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
			integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
			crossorigin="anonymous"
		></script>

		<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-firestore.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
		<script src="firebase.js"></script>

		<script src="index.js"></script>
	</body>
</html>
